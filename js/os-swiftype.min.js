$(function(){function t(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=$(".swtpbutton")[0].getBoundingClientRect(),i=t.getBoundingClientRect();return i.left>=0&&i.bottom+e.height<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)}function e(){return function(){if(void 0!==$(".result").last()[0])if(t($(".result").last()))$(".swtpbutton").css({position:"initial",bottom:"initial",width:"auto","padding-left":"0px","padding-right":"0px","border-left":"0px solid #e6e6e6","border-bottom":"0px solid #e6e6e6"});else{var e=$(".result").last()[0].getBoundingClientRect().width;$(".swtpbutton").css({position:"fixed",bottom:"0",width:e,"padding-left":"0px","padding-right":"0px","border-left":"1px solid #e6e6e6","border-bottom":"1px solid #e6e6e6"})}}}var i=function(t,e){var i=e.highlight.body;void 0===i&&(i=e.body.substring(0,300)),i=i.concat("...");var s='<div class="st-result"><h4 class="title"><a href="'+e.url+'" class="st-search-result-link">'+e.title+'</a></h4><div class="st-metadata"><span class="st-url">'+e.url+'</span><span class="st-snippet">'+i.replace("matchCookie"," ").replace("<em>match</em>Cookie","")+"</span></div></div>";return s},s=function(t,e){var i='<p class="title">'+e.title+"</p>";return i=i.concat(void 0!==e.description?'<p class="body">'+e.description.replace("matchCookie"," ").replace("<em>match</em>Cookie","")+"</p>":void 0!==e.highlight.body?'<p class="body">'+e.highlight.body.replace("matchCookie"," ").replace("<em>match</em>Cookie","")+"...</p>":'<p class="body">'+e.body.substring(0,200).replace("matchCookie"," ").replace("<em>match</em>Cookie","")+"...</p>")},o=function(t,e){var i=[],s="/search/#stq="+$("#st-search-input").val()+"&stp=1",o={type:"post",url:s,title:"",id:"",_type:"page",_index:"crawled",_version:null,sort:null,highlight:{title:""}};$.each(e,function(t,e){$.each(e,function(t,e){return e.type&&i.length<5?void i.push(e):void 0})});var a=$('<div class="autocompbox"></div>'),n=$('<ul class="WebSite"></ul>');$.each(i,function(e,i){var s='<p class="title">'+i.title+"</p>";s=s.concat(void 0!==i.description?'<p class="body">'+i.description.replace("matchCookie"," ").replace("<em>match</em>Cookie","")+"</p>":void 0!==i.highlight.body?'<p class="body">'+i.highlight.body.replace("matchCookie"," ").replace("<em>match</em>Cookie","")+"...</p>":'<p class="body">'+i.body.substring(0,200).replace("matchCookie"," ").replace("<em>match</em>Cookie","")+"...</p>"),t.registerResult($('<li class="result">'+s+"</li>").appendTo(n),i)}),i.length>0&&(t.registerResult($('<li class="swtpbutton"><p>See all results</p></li>').appendTo(n),o),n.appendTo(a)),i.length>0&&a.appendTo(t.list)};$("#st-search-input").keydown(function(t){13!==t.which||$(".autocomplete li.active").is(":visible")||(window.location="/search/#stq="+$(this).val()+"&stp=1",$("#st-search-input-2").val($(this).val()))}),$("#st-search-input-2").keydown(function(t){13!==t.which||$(".autocomplete li.active").is(":visible")||(window.location.hash="#stq="+$(this).val()+"&stp=1",$("#st-search-input").val($(this).val()))});var a=e();$(window).on("DOMContentLoaded load resize scroll",a),$(document).ready(function(){""!==$.hashParams().stq&&($("#st-search-input").val($.hashParams().stq),$("#st-search-input-2").val($.hashParams().stq))}),$(window).hashchange(function(){""!==$.hashParams().stq&&($("#st-search-input").val($.hashParams().stq),$("#st-search-input-2").val($.hashParams().stq))}),$(document).delegate(".autocomplete li","mouseout",function(){$(this).removeClass("active")}),$("#st-search-input").swiftypeSearch({resultContainingElement:"#st-results-container",engineKey:"GZhgtDYXiyvDjz48t2SP",renderFunction:i,perPage:10,resultPageURL:"/search/",filters:function(){return{page:{type:["website","blog"]}}}}),$("#st-search-input").swiftype({engineKey:"GZhgtDYXiyvDjz48t2SP",resultRenderFunction:o,setWidth:!1,resultLimit:5,fetchFields:{page:["url","body","title","type","highlight","sections"]},filters:function(){return{page:{type:["website","blog"]}}}}),$("#st-search-input-2").swiftype({engineKey:"GZhgtDYXiyvDjz48t2SP",fetchFields:{page:["url","body","title","type","highlight","sections"]},renderFunction:s,resultLimit:5,filters:function(){return{page:{type:["website","blog"]}}}})});