$(function(){var s=function(s,t){var e=t.highlight.body;void 0===e&&(e=t.body.substring(0,300));var i='<div class="st-result"><h4 class="title"><a href="'+t.url+'" class="st-search-result-link">'+t.title+'</a></h4><div class="st-metadata"><span class="st-url">'+t.url+'</span><span class="st-snippet">'+e+"</span></div></div>";return i},t=function(s,t){var e=[],i=[],l=[],n=[],a=[],c=[],p=[];$.each(t,function(s,t){$.each(t,function(s,t){return t.type&&"website"===t.type&&e.length<5?void e.push(t):t.type&&"blog"===t.type&&i.length<5?void i.push(t):t.type&&"forge"===t.type&&l.length<5?void l.push(t):t.type&&"academy"===t.type&&n.length<5?void n.push(t):t.type&&"help"===t.type&&a.length<5?void a.push(t):t.type&&"ideas"===t.type&&c.length<5?void c.push(t):t.type&&"forums"===t.type&&p.length<5?void p.push(t):void 0})});var o=$('<div class="autocompbox"></div>'),h=$('<ul class="WebSite"></ul>'),u=$('<div class="column2"></div>'),d=$('<ul class="Blog"></ul>'),r=$('<div class="column2"></div>'),g=$('<ul class="Forge"></ul>'),v=$('<div class="column2"></div>'),y=$('<ul class="Academy"></ul>'),m=$('<div class="column2"></div>'),f=$('<ul class="Help"></ul>'),T=$('<div class="column2"></div>'),w=$('<ul class="Ideas"></ul>'),b=$('<div class="column2"></div>'),F=$('<ul class="Forums"></ul>'),R=$('<div class="column2"></div>');$.each(e,function(t,e){var i='<p class="title">'+e.title+"</p>";if(e.highlight.sections){var l='<span class="section">'+e.highlight.sections+"</span>";i=i.concat('<p class="sections">'+l+"</p>")}s.registerResult($('<li class="result">'+i+"</li>").appendTo(h),e)}),e.length>0&&(h.appendTo(u),$('<div class="column1">Website</div>').appendTo(o),u.appendTo(o)),$.each(i,function(t,e){var i='<p class="title">'+e.title+"</p>";if(e.highlight.sections){var l='<span class="section">'+e.highlight.sections+"</span>";i=i.concat('<p class="sections">'+l+"</p>")}s.registerResult($('<li class="result">'+i+"</li>").appendTo(d),e)}),i.length>0&&(d.appendTo(r),$('<div class="column1">Blog</div>').appendTo(o),r.appendTo(o)),$.each(l,function(t,e){var i='<p class="title">'+e.title+"</p>";if(e.highlight.sections){var l='<span class="section">'+e.highlight.sections+"</span>";i=i.concat('<p class="sections">'+l+"</p>")}s.registerResult($('<li class="result">'+i+"</li>").appendTo(g),e)}),l.length>0&&(g.appendTo(v),$('<div class="column1">Forge</div>').appendTo(o),v.appendTo(o)),$.each(n,function(t,e){var i='<p class="title">'+e.title+"</p>";if(e.highlight.sections){var l='<span class="section">'+e.highlight.sections+"</span>";i=i.concat('<p class="sections">'+l+"</p>")}s.registerResult($('<li class="result">'+i+"</li>").appendTo(y),e)}),n.length>0&&(y.appendTo(m),$('<div class="column1">Academy</div>').appendTo(o),m.appendTo(o)),$.each(a,function(t,e){var i='<p class="title">'+e.title+"</p>";if(e.highlight.sections){var l='<span class="section">'+e.highlight.sections+"</span>";i=i.concat('<p class="sections">'+l+"</p>")}s.registerResult($('<li class="result">'+i+"</li>").appendTo(f),e)}),a.length>0&&(f.appendTo(T),$('<div class="column1">Help</div>').appendTo(o),T.appendTo(o)),$.each(c,function(t,e){var i='<p class="title">'+e.title+"</p>";if(e.highlight.sections){var l='<span class="section">'+e.highlight.sections+"</span>";i=i.concat('<p class="sections">'+l+"</p>")}s.registerResult($('<li class="result">'+i+"</li>").appendTo(w),e)}),c.length>0&&(w.appendTo(b),$('<div class="column1">Ideas</div>').appendTo(o),b.appendTo(o)),$.each(p,function(t,e){var i='<p class="title">'+e.title+"</p>";if(e.highlight.sections){var l='<span class="section">'+e.highlight.sections+"</span>";i=i.concat('<p class="sections">'+l+"</p>")}s.registerResult($('<li class="result">'+i+"</li>").appendTo(F),e)}),p.length>0&&(F.appendTo(R),$('<div class="column1">Forums</div>').appendTo(o),R.appendTo(o)),(e.length>0||i.length>0||l.length>0||n.length>0||a.length>0||c.length>0||p.length>0)&&o.appendTo(s.list)},e=function(){var s={position:"absolute","z-index":9999,top:"80px",left:"auto",width:"980px"};return s};$("#st-search-input").keydown(function(s){13!==s.which||$(".autocomplete li.active").is(":visible")||(window.location="/search/#stq="+$(this).val()+"&stp=1",$("#st-search-input-2").val($(this).val()))}),$("#st-search-input-2").keydown(function(s){13!==s.which||$(".autocomplete li.active").is(":visible")||(window.location.hash="#stq="+$(this).val()+"&stp=1",$("#st-search-input").val($(this).val()))}),""!==$.hashParams().stq&&($("#st-search-input").val($.hashParams().stq),$("#st-search-input-2").val($.hashParams().stq)),$("#st-search-input").swiftypeSearch({resultContainingElement:"#st-results-container",engineKey:"GZhgtDYXiyvDjz48t2SP",renderFunction:s,perPage:10,resultPageURL:"/search/"}),$("#st-search-input").swiftype({engineKey:"GZhgtDYXiyvDjz48t2SP",resultRenderFunction:t,setWidth:"980px",resultLimit:35,fetchFields:{page:["url","body","title","type","highlight","sections"]},autocompleteContainingElement:".navigation-inner.container",dropdownStylesFunction:e}),$("#st-search-input-2").swiftype({engineKey:"GZhgtDYXiyvDjz48t2SP",resultRenderFunction:t,setWidth:!1,resultLimit:35,fetchFields:{page:["url","body","title","type","highlight","sections"]}})});