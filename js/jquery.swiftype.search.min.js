!function(a){function e(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var b=function(a){var b,c,d={};if(""===a)return{};for(b=0;b<a.length;b+=1)c=a[b].split("="),2===c.length&&(d[c[0]]=decodeURIComponent(c[1].replace(/\+/g," ")));return d};a.queryParams=function(){return b(window.location.search.substr(1).split("&"))},a.hashParams=function(){return b(window.location.hash.substr(1).split("&"))},window.Swiftype=window.Swiftype||{},Swiftype.root_url=Swiftype.root_url||"https://api.swiftype.com",Swiftype.pingUrl=function(a,b){var c=setTimeout(b,350),d=new Image;return d.onload=d.onerror=function(){clearTimeout(c),b()},d.src=a,!1},Swiftype.pingSearchResultClick=function(b,c,d){var e={t:(new Date).getTime(),engine_key:b,doc_id:c,q:Swiftype.currentQuery},f=Swiftype.root_url+"/api/v1/public/analytics/pc?"+a.param(e);Swiftype.pingUrl(f,d)},a.fn.swiftypeSearch=function(b){var b=a.extend({},a.fn.swiftypeSearch.defaults,b);return this.each(function(){var c=a(this),d=a.meta?a.extend({},b,c.data()):b;c.data("swiftype-config-search",d),c.selectedCallback=function(b){return function(c){var e=a(this);c.preventDefault(),Swiftype.pingSearchResultClick(d.engineKey,b.id,function(){window.location=e.attr("href")})}},c.registerResult=function(b,d){b.data("swiftype-item",d),a("a",b).click(c.selectedCallback(d))},c.getContentCache=function(){return a("#"+g)};var e=a(d.resultContainingElement),f=e.html(),g="st-content-cache",h=c.getContentCache(),i=function(a,b){location.hash="stq="+encodeURIComponent(a)+"&stp="+b},j=function(b,c){function j(a){if(void 0!==a){var b=a;return"function"==typeof b&&(b=b.call()),b}return void 0}c=a.extend({page:1},c);var i={};h.length||(e.after("<div id='"+g+"' style='display: none;'></div>"),h.html(f).hide()),d.loadingFunction(b,e),Swiftype.currentQuery=b,i.q=b,i.engine_key=d.engineKey,i.page=c.page,i.per_page=d.perPage,i.search_fields=j(d.searchFields),i.fetch_fields=j(d.fetchFields),i.facets=j(d.facets),i.filters=j(d.filters),i.document_types=j(d.documentTypes),i.functional_boosts=j(d.functionalBoosts),i.sort_field=j(d.sortField),i.sort_direction=j(d.sortDirection),i.spelling=j(d.spelling),a.getJSON(Swiftype.root_url+"/api/v1/public/engines/search.json?callback=?",i).success(l)};a(window).hashchange(function(){var b=a.hashParams();if(b.stq)j(b.stq,{page:b.stp});else{var d=c.getContentCache();d.length&&(e.html(d.html()),d.remove())}});var k=c.parents("form");k&&k.bind("submit",function(a){a.preventDefault();var b=c.val();i(b,1)}),a(document).on("click","[data-hash][data-page]",function(b){b.preventDefault();var c=a(this);i(a.hashParams().stq,c.data("page"))}),a(document).on("click","[data-hash][data-spelling-suggestion]",function(b){b.preventDefault();var c=a(this);i(c.data("spelling-suggestion"),1)});var l=function(a){"function"==typeof d.preRenderFunction&&d.preRenderFunction.call(c,a),d.renderResultsFunction(c.getContext(),a),"function"==typeof d.postRenderFunction&&d.postRenderFunction.call(c,a)};c.getContext=function(){return{config:d,resultContainer:e,registerResult:c.registerResult}},a(window).hashchange()})};var c=function(b,c){var d,e=-1,f=b.config;a.each(c,function(a,b){b.num_pages>e&&(d=a,e=b.num_pages)});var g=c[d].current_page,h=c[d].num_pages;a(f.renderPaginationForType(d,g,h)).appendTo(b.resultContainer)},f=function(b,d){var e=b.resultContainer,f=b.config;e.html(""),a.each(d.records,function(c,d){a.each(d,function(d,g){b.registerResult(a(f.renderFunction(c,g)).appendTo(e),g)})}),c(b,d.info)},g=function(a,b){return'<div class="st-result"><h3 class="title"><a href="'+b.url+'" class="st-search-result-link">'+e(b.title)+"</a></h3></div>"},h=function(a,b){b.html('<p class="st-loading-message">loading...</p>')},i=function(b){var c=0,d=this.getContext().resultContainer,e=null;b.info&&a.each(b.info,function(a,b){c+=b.total_result_count,b.spelling_suggestion&&(e=b.spelling_suggestion.text)}),0===c?(a("#st-no-results").css({display:"block"}),a("#st-search-input-2").css({diplay:"none"})):(a("#st-no-results").css({display:"none"}),a("#st-search-input-2").css({diplay:"block"})),null!==e&&d.append('<div class="st-spelling-suggestion">Did you mean <a href="#" data-hash="true" data-spelling-suggestion="'+e+'">'+e+"</a>?</div>")},j=function(a,b,c){var e,f,d='<div class="st-page">';return 1!=b&&(e=b-1,d=d+'<a href="#" class="st-prev" data-hash="true" data-page="'+e+'">&laquo; previous</a>'),c>b&&(f=b+1,d=d+'<a href="#" class="st-next" data-hash="true" data-page="'+f+'">next &raquo;</a>'),d+="</div>"};a.fn.swiftypeSearch.defaults={attachTo:void 0,documentTypes:void 0,facets:void 0,filters:void 0,engineKey:void 0,searchFields:void 0,functionalBoosts:void 0,sortField:void 0,sortDirection:void 0,fetchFields:void 0,preRenderFunction:void 0,postRenderFunction:i,loadingFunction:h,renderResultsFunction:f,renderFunction:g,renderPaginationForType:j,perPage:10,spelling:"strict"}}(jQuery);